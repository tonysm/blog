(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{252:function(e){e.exports={data:{post:{title:"Command-Oriented Architecture",path:"/blog/command-oriented-architecture",date:"23. September 2014",timeToRead:1,tags:[{id:"architecture",title:"architecture",path:"/tag/architecture"},{id:"commands",title:"commands",path:"/tag/commands"},{id:"domain",title:"domain",path:"/tag/domain"},{id:"events",title:"events",path:"/tag/events"}],description:"Command-Oriented Architecture",content:'<p>Alguns meses atrás escrevi um post sobre Commands e Domain Events para o PHP-PB e esqueci de postar aqui também.</p>\n<p>Bom, aqui vai um link: <a href="http://php-pb.net/2014/06/23/commands-e-domain-events/" target="_blank" rel="nofollow noopener noreferrer">Commands e Domain Events</a></p>\n<p>Resumindo um pouco o que eu falo no post, esse padrão de arquitetura está em alta nos ultimos tempos:</p>\n<p>Basicamente temos:</p>\n<ul>\n<li>Fronteiras usam Commands (DTO) para usar nosso app</li>\n<li>Commands são executados por um e somente 1 Handlers</li>\n<li>Handlers podem usar Services e/ou Repositories para interagir com os Domain Objects</li>\n<li>Domain Objects geram Domain Events (podendo ser 1 ou mais)</li>\n<li>Handlers disparam os Domain Events dos Domain Objects afetados na ação</li>\n<li>Domain Events podem ser ouvidos por 1 ou vários Event Listeners</li>\n<li>Listeners podem executar Commands (volte ao item 2)</li>\n<li>Handlers devolvem o que está em seus contratos para as Fronteiras</li>\n<li>Fim do request</li>\n</ul>\n<h2 id="otimização-utilizando-queues"><a href="#otimiza%C3%A7%C3%A3o-utilizando-queues" aria-hidden="true"><span class="icon icon-link"></span></a>Otimização utilizando Queues</h2>\n<p>Claro, podemos otimizar esse request disparando os Domain Events em Background utilizando Queues, já que os events ocorrem depois das ações\nna nossa aplicação, não faz sentido esperar um envio de e-mail, por exemplo (que deveria estar num listener) para responder a request.</p>\n<h2 id="conclusão"><a href="#conclus%C3%A3o" aria-hidden="true"><span class="icon icon-link"></span></a>Conclusão</h2>\n<p>Bom, pra saber mais sobre o assunto, basta dar uma lida no meu post lá. Dou uma explicação mais detalhada sobre a arquitetura e\nainda tem várias referências legais. :)</p>\n<p>Até a próxima!</p>\n',coverImage:null}}}}}]);